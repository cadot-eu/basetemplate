{#
/**
 * @file
 * Bootstrap v5 Filter control implementation.
 *
 * View that can be used with the filter module
 */
#}
<form method="get" action="{{ action }}" enctype="application/x-www-form-urlencoded">
	<div class="input-group mb-3">
		{% if fields|length > 1 %}
			<select class="form-select" name="{{ filterFieldName }}">
				{% for field, label in fields %}
					<option value="{{ field }}" {% if selectedField == field %} selected="selected" {% endif %}>{{ label }}</option>
				{% endfor %}
			</select>
		{% else %}
			<input type="hidden" name="{{ filterFieldName }}" value="{{ fields|keys|first }}"/>
		{% endif %}

		{# découpe d'action pour récupéré focus #}
		{# pour cela il faut ajouter par ... knp_pagination_filter(pagination, {'r.recherche': 'Recherche'},{},{'focus':'false'}) }} #}
		{% set focus=action|split('focus=')[1]|default %}
		<input class="form-control" type="search" id="focussearch" data-controller="base--inputsend" data-base--inputsend-temps-value='800' value="{{app.request.query.all['filterValue']|default}}" name="{{ filterValueName }}" {% if focus!='false' %} data-base--inputsend-focus-value="{{ app.request.query.get('filterValue') is defined and app.request.query.get('filterValue') != '' ?'true':'false'}}" {% endif %} placeholder="{{ 'filter_searchword'|trans({}, 'KnpPaginatorBundle') }}"/>
	</div>
</form>